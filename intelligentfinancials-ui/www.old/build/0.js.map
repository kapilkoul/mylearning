{"version":3,"sources":["../../src/pages/account-detail/account-detail.module.ts","../../src/pages/account-detail/account-detail.ts","../../src/models/pipes/orderby.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAyC;AACa;AACN;AAEK;AACI;AAezD;IAAA;IAAuC,CAAC;IAA3B,uBAAuB;QAbnC,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,0EAAiB;gBACjB,0EAAW;aACZ;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,0EAAiB,CAAC;gBAC3C,4EAAe,CAAC,QAAQ,EAAE;aAC3B;YACD,OAAO,EAAE;gBACP,0EAAiB;aAClB;SACF,CAAC;OACW,uBAAuB,CAAI;IAAD,8BAAC;CAAA;AAAJ;;;;;;;;;;;;;;;;;;;;;;;;ACpBM;AACyD;AAE9C;AACN;AAKZ;AAOnC;IAMA,2BAAmB,OAAsB,EAAE,SAAoB,EAAS,QAAkB,EAAQ,SAA0B,EAAS,SAA0B,EAAS,MAAc;QAAtL,iBAgBC;QAhBkB,YAAO,GAAP,OAAO,CAAe;QAA+B,aAAQ,GAAR,QAAQ,CAAU;QAAQ,cAAS,GAAT,SAAS,CAAiB;QAAS,cAAS,GAAT,SAAS,CAAiB;QAAS,WAAM,GAAN,MAAM,CAAQ;QAHlL,uBAAkB,GAAG,KAAK,CAAC;QAC3B,cAAS,GAAU,EAAE,CAAC;QAGtB,MAAM,CAAC,SAAS,CAAC,cAAc,EAAE;YAC7B,8EAA8E;YAC9E,IAAI,KAAK,GAAG,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBAC9B,OAAO,EAAE,qDAAqD;gBAC9D,QAAQ,EAAE,IAAI;gBACd,QAAQ,EAAE,KAAK;aAChB,CAAC,CAAC;YACH,KAAK,CAAC,OAAO,EAAE,CAAC;YAClB,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,yDAAS,CAAC,CAAC;QACjC,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,cAAc,GAAG,IAAI,gEAAO,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC;QAC5D,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC;QACnD,IAAI,CAAC,cAAc,GAAG,SAAS,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;QACtD,OAAO,CAAC,GAAG,CAAC,oCAAoC,GAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;IAE3F,CAAC;IAED,4CAAgB,GAAhB;QAAA,iBA0CK;QAzCG,2EAA2E;QAC3E,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,cAAc,EAAE,6BAA6B,CAAC,CAAC;QACnE,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;QAEhC,oEAAoE;QACpE,IAAI,CAAC,QAAQ,CAAC,8BAA8B,CAAC,IAAI,CAAC,SAAS,CAAC;aAC3D,IAAI;QACD,yDAAyD;QACzD,UAAC,YAA2B;YACxB,iDAAiD;YACjD,KAAI,CAAC,MAAM,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;YACpC,OAAO,CAAC,GAAG,CAAC,uCAAuC,GAAC,KAAI,CAAC,SAAS,GAAG,IAAI,GAAG,YAAY,CAAC,MAAM,CAAC,CAAC;YAEjG,0FAA0F;YAC1F,EAAE,EAAC,YAAY,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;gBACzB,KAAI,CAAC,cAAc,CAAC,YAAY,GAAG,YAAY,CAAC;gBAChD,KAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;YACnC,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,sEAAsE;gBACtE,KAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;gBAChC,IAAI,KAAK,GAAG,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC;oBAC9B,OAAO,EAAE,2CAA2C,GAAG,KAAI,CAAC,SAAS;oBACrE,QAAQ,EAAE,IAAI;oBACd,QAAQ,EAAE,KAAK;iBAChB,CAAC,CAAC;gBACH,KAAK,CAAC,OAAO,EAAE,CAAC;YACtB,CAAC;QAEL,CAAC,CAAC;aACD,KAAK,CACN,UAAC,GAAG;YACF,iEAAiE;YACjE,KAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;YAChC,KAAI,CAAC,MAAM,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;YACpC,IAAI,KAAK,GAAG,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBAC5B,OAAO,EAAE,0CAA0C,GAAG,GAAG,CAAC,OAAO;gBACjE,QAAQ,EAAE,IAAI;gBACd,QAAQ,EAAE,KAAK;aACpB,CAAC,CAAC;YACH,KAAK,CAAC,OAAO,EAAE,CAAC;QAClB,CAAC,CAAC,CAAC;IACX,CAAC;IAEH;;;OAGG;IACH,0CAAc,GAAd;QAAA,iBAyBC;QAxBC,IAAI,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,uBAAuB,CAAC,CAAC;QAC9D,QAAQ,CAAC,YAAY,CAAC,qBAAW;YAC/B,EAAE,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;gBAChB,KAAI,CAAC,MAAM,CAAC,OAAO,CAAC,cAAc,EAAE,mCAAmC,CAAC,CAAC;gBACzE,KAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;gBAChC,KAAI,CAAC,QAAQ,CAAC,kBAAkB,CAAC,KAAI,CAAC,SAAS,EAAE,WAAW,CAAC;qBAC5D,IAAI,CAAC,UAAC,OAAgB;oBACnB,KAAI,CAAC,MAAM,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;oBACpC,KAAI,CAAC,cAAc,GAAG,OAAO,CAAC,CAAC,yBAAyB;oBACxD,KAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;gBACnC,CAAC,CAAC;qBACD,KAAK,CAAC,UAAC,IAAI;oBACV,KAAI,CAAC,MAAM,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;oBACpC,KAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;oBAChC,IAAI,KAAK,GAAG,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC;wBAChC,OAAO,EAAE,uCAAuC,GAAG,IAAI,CAAC,OAAO;wBAC/D,QAAQ,EAAE,IAAI;wBACd,QAAQ,EAAE,KAAK;qBAChB,CAAC,CAAC;oBACH,KAAK,CAAC,OAAO,EAAE,CAAC;gBAClB,CAAC,CAAC,CAAC;YACL,CAAC;QACH,CAAC,CAAC;QACF,QAAQ,CAAC,OAAO,EAAE,CAAC;IACrB,CAAC;IACC,sCAAU,GAAV;QACI,IAAI,GAAG,GAAU,EAAE,GAAC,IAAI,CAAC,cAAc,CAAC;QACxC,MAAM,CAAC,GAAG,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;IAC/B,CAAC;IArGQ,iBAAiB;QAJ7B,wEAAS,CAAC;YACT,QAAQ,EAAE,qBAAqB;WACG;SACnC,CAAC;0BAOoL;OANzK,iBAAiB,CAsG7B;IAAD,CAAC;AAAA;SAtGY,iBAAiB,gB;;;;;;;;;;;;;;;;AChBwB;AAGtD;IAAA;IAoBA,CAAC;IAnBC,+BAAS,GAAT,UAAU,KAAiB,EAAE,KAAa;QACxC,EAAE,EAAC,KAAK,IAAI,IAAI,CAAC,CAAC,CAAC;YACjB,MAAM,CAAC,IAAI,CAAC;QACd,CAAC;QAED,EAAE,CAAC,CAAC,KAAK,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YAC1B,KAAK,GAAG,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;YAC3B,EAAE,CAAC,CAAC,OAAO,KAAK,CAAC,KAAK,CAAC,KAAK,QAAQ,IAAI,KAAK,CAAC,KAAK,CAAC,YAAY,MAAM,CAAC,CAAC,CAAC;gBACvE,MAAM,CAAK,KAAK,SAAE,IAAI,CAAC,UAAC,CAAC,EAAE,CAAC,IAAK,QAAC,CAAC,KAAK,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAhC,CAAgC,CAAC,CAAC;YACrE,CAAC;YACD,MAAM,CAAK,KAAK,SAAE,IAAI,CAAC,UAAC,CAAC,EAAE,CAAC,IAAK,QAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,EAAnB,CAAmB,CAAC,CAAC;QACxD,CAAC;QACD,IAAI,CAAC,CAAC;YACJ,EAAE,CAAC,CAAC,OAAO,KAAK,CAAC,KAAK,CAAC,KAAK,QAAQ,IAAI,KAAK,CAAC,KAAK,CAAC,YAAY,MAAM,CAAC,CAAC,CAAC;gBACvE,MAAM,CAAK,KAAK,SAAE,IAAI,CAAC,UAAC,CAAC,EAAE,CAAC,IAAK,QAAC,CAAC,CAAC,KAAK,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAjC,CAAiC,CAAC,CAAC;YACtE,CAAC;YACD,MAAM,CAAK,KAAK,SAAE,IAAI,CAAC,UAAC,CAAC,EAAE,CAAC,IAAK,QAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,EAAnB,CAAmB,CAAC,CAAC;QACxD,CAAC;IACH,CAAC;IAnBU,WAAW;QADvB,mEAAI,CAAC,EAAC,IAAI,EAAE,SAAS,EAAC,CAAC;OACX,WAAW,CAoBvB;IAAD,kBAAC;CAAA;AApBuB","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { IonicPageModule } from 'ionic-angular';\n\nimport { AccountDetailPage } from './account-detail';\nimport { OrderByPipe } from '../../models/pipes/orderby';\n\n@NgModule({\n  declarations: [\n    AccountDetailPage,\n    OrderByPipe\n  ],\n  imports: [\n    IonicPageModule.forChild(AccountDetailPage),\n    TranslateModule.forChild()\n  ],\n  exports: [\n    AccountDetailPage\n  ]\n})\nexport class AccountDetailPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/account-detail/account-detail.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ToastController, ModalController, Events } from 'ionic-angular';\n\nimport { Accounts } from '../../providers/providers';\nimport { Account } from '../../models/account';\nimport { Transaction } from '../../models/transaction';\n\n\n\nimport {LoginPage} from '../pages';\n\n@IonicPage()\n@Component({\n  selector: 'page-account-detail',\n  templateUrl: 'account-detail.html'\n})\nexport class AccountDetailPage {\n    currentAccount: Account;\n    accountBalance: string;\n    accountDetailReady = false;\n    accountId:string = '';\n\nconstructor(public navCtrl: NavController, navParams: NavParams, public accounts: Accounts,public toastCtrl: ToastController, public modalCtrl: ModalController, public events: Events) {\n    events.subscribe('user:notoken', () => {\n        // user and time are the same arguments passed in `events.publish(user, time)`\n        let toast = this.toastCtrl.create({\n            message: \"You are required to login befor access to this page\",\n            duration: 3000,\n            position: 'top'\n          });\n          toast.present();\n        this.navCtrl.push(LoginPage);\n    });\n    this.currentAccount = new Account(navParams.get('account'));\n    this.accountId = this.currentAccount[\"identifier\"];\n    this.accountBalance = navParams.get('accountBalance');\n    console.log(\"Creating Account Detail Page with \"+ JSON.stringify(this.currentAccount));\n\n}\n\nionViewWillEnter() {\n        //Tell the main app controller we are still loading and the message to show\n        this.events.publish('loading:show', 'Loading transaction data...');\n        this.accountDetailReady = false;\n    \n        //Query the account details and handle the promise it passes us back\n        this.accounts.queryTransactionsToFromAccount(this.accountId)\n        .then(\n            //Called if the promise is resolved with transaction lost\n            (transactions: Transaction[]) => {\n                //Tell the app controller we are finished loading\n                this.events.publish('loading:hide');\n                console.log(\"Received transactions for accountID: \"+this.accountId + \"=>\" + transactions.length);\n                \n                //If the size of transactions array is more than zero the store them in our class variable\n                if(transactions.length > 0) {\n                    this.currentAccount.transactions = transactions;\n                    this.accountDetailReady = true;\n                } else {\n                    //Else we have not receive any transactions, potentially a new account\n                    this.accountDetailReady = false;\n                    let toast = this.toastCtrl.create({\n                        message: \"There were no transactions for accountId \" + this.accountId,\n                        duration: 3000,\n                        position: 'top'\n                      });\n                      toast.present();\n                }\n                \n            })\n            .catch(\n            (err) => {\n              //The provider is facing some issue, maybe server connectivity   \n              this.accountDetailReady = false;\n              this.events.publish('loading:hide');\n              let toast = this.toastCtrl.create({\n                    message: \"Unable to retrieve transaction details: \" + err.message,\n                    duration: 3000,\n                    position: 'top'\n              });\n              toast.present();\n            });\n    }\n    \n  /**\n   * Prompt the user to add a new item. This shows our ItemCreatePage in a\n   * modal and then adds the new item to our data source if the user created one.\n   */\n  addTransaction() {\n    let addModal = this.modalCtrl.create('TransactionCreatePage');\n    addModal.onDidDismiss(transaction => {\n      if (transaction) {\n        this.events.publish(\"loading:show\", 'Saving transaction information...');\n        this.accountDetailReady = false;\n        this.accounts.saveOneTransaction(this.accountId, transaction)\n        .then((account: Account) => {\n            this.events.publish(\"loading:hide\");\n            this.currentAccount = account; //refresh current account\n            this.accountDetailReady = true;\n        })\n        .catch((resp) => {\n          this.events.publish(\"loading:hide\");\n          this.accountDetailReady = false;\n          let toast = this.toastCtrl.create({\n            message: \"Unable to save transaction details : \" + resp.message,\n            duration: 3000,\n            position: 'top'\n          });\n          toast.present();\n        });\n      }\n    })\n    addModal.present();\n  }\n    isPositive() {\n        let val:string = \"\"+this.accountBalance;\n        return val.startsWith(\"-\");\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/account-detail/account-detail.ts","import { Pipe, PipeTransform }   from '@angular/core';\n\n@Pipe({name: 'orderBy'})\nexport class OrderByPipe implements PipeTransform {\n  transform(value: Array<any>, field: string): any {\n    if(value == null) {\n      return null;\n    }\n\n    if (field.startsWith(\"-\")) {\n      field = field.substring(1);\n      if (typeof value[field] === 'string' || value[field] instanceof String) {\n        return [...value].sort((a, b) => b[field].localeCompare(a[field]));\n      }\n      return [...value].sort((a, b) => b[field] - a[field]);\n    }\n    else {\n      if (typeof value[field] === 'string' || value[field] instanceof String) {\n        return [...value].sort((a, b) => -b[field].localeCompare(a[field]));\n      }\n      return [...value].sort((a, b) => a[field] - b[field]);\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/pipes/orderby.ts"],"sourceRoot":""}